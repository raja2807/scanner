<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Love Selfie Capture ğŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;
  font-family:Segoe UI, sans-serif;
  background:#000;
  color:white;
  text-align:center;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}

h1{
  margin-bottom:10px;
}

video{
  width:280px;
  border-radius:15px;
  border:3px solid #ff1744;
  display:none;
}

#photo{
  width:280px;
  border-radius:15px;
  margin-top:15px;
  display:none;
  border:3px solid #ff1744;
}

button{
  margin-top:20px;
  padding:12px 25px;
  font-size:16px;
  border:none;
  border-radius:25px;
  background:linear-gradient(45deg,#ff1744,#000);
  color:white;
  cursor:pointer;
}

#message{
  margin-top:20px;
  font-size:20px;
  min-height:60px;
  padding:15px;
  background:#111;
  border-radius:12px;
  width:85%;
  max-width:320px;
}
</style>
</head>

<body>

<h1>Capture My Love ğŸ“¸â¤ï¸</h1>

<!-- ğŸ¥ camera -->
<video id="video" autoplay playsinline></video>

<canvas id="canvas" style="display:none;"></canvas>

<img id="photo">

<!-- ğŸ”˜ buttons -->
<button id="startBtn" onclick="startCamera()">Take Selfie ğŸ’˜</button>
<button id="captureBtn" onclick="takeSelfie()" style="display:none;">Capture â¤ï¸</button>
<button id="retakeBtn" onclick="retakeSelfie()" style="display:none;">Take New Selfie ğŸ”„</button>

<div id="message">
Click the button to start magic âœ¨
</div>

<script>
const video = document.getElementById("video");
const canvas = document.getElementById("canvas");
const photo = document.getElementById("photo");
const messageBox = document.getElementById("message");

const startBtn = document.getElementById("startBtn");
const captureBtn = document.getElementById("captureBtn");
const retakeBtn = document.getElementById("retakeBtn");

let stream = null;

// â¤ï¸ 50 emotional messages
const messages = [
"Iâ€™m always with you ğŸ’–",
"You are my favorite person ğŸ¥°",
"My heart feels home with you ğŸ¡â¤ï¸",
"You make my world beautiful âœ¨",
"I am lucky to have you ğŸ€ğŸ’",
"You are my sweetest happiness ğŸ˜ŠğŸ’•",
"With you, everything feels right ğŸ’«",
"You are my forever person â™¾ï¸â¤ï¸",
"My love for you grows every day ğŸŒ¹",
"You are my dream come true ğŸ˜",
"I miss you even when youâ€™re near ğŸ¥º",
"You are my heartâ€™s favorite song ğŸ¶â¤ï¸",
"I feel safe when I think of you ğŸ¤—",
"You are my beautiful miracle âœ¨",
"My world starts with you ğŸŒ…ğŸ’–",
"You are my endless smile ğŸ˜Š",
"I love the way you exist ğŸ’•",
"You are my happy place ğŸŒˆ",
"My heart chose you first ğŸ’˜",
"You are my sweetest addiction ğŸ˜˜",
"I found love when I found you ğŸ’",
"You are my sunshine â˜€ï¸â¤ï¸",
"My heart beats for you ğŸ’“",
"Iâ€™m proud to love you ğŸ¥¹ğŸ’•",
"You are my forever smile ğŸ˜Šâ¤ï¸",
"My love story is you ğŸ“–ğŸ’˜",
"You make my life magical âœ¨",
"You are my precious one ğŸ’",
"My heart whispers your name ğŸ«¶",
"You are my daily happiness ğŸŒ¸",
"I fall for you every day ğŸ˜",
"You are my warm hug ğŸ¤—â¤ï¸",
"My world is brighter with you ğŸŒŸ",
"You are my sweet destiny ğŸ’«",
"I love you more than words ğŸ’Œ",
"You are my calm and chaos ğŸŒŠâ¤ï¸",
"My heart belongs to you ğŸ”ğŸ’•",
"You are my cutest blessing ğŸ¥°",
"I want you in every lifetime â™¾ï¸",
"You are my peaceful place ğŸ•Šï¸",
"My smile starts with you ğŸ˜ŠğŸ’–",
"You are my heartâ€™s home ğŸ â¤ï¸",
"I cherish you forever ğŸŒ¹",
"You are my lovely star â­",
"My love for you is endless â™¾ï¸ğŸ’˜",
"You are my everything ğŸ’",
"I choose you always ğŸ¤",
"You are my sweetest dream ğŸŒ™",
"Forever yoursâ€¦ only yours ğŸ’–"
];

// ğŸ¥ start camera only after click
function startCamera(){
  navigator.mediaDevices.getUserMedia({ video:true })
  .then(s => {
    stream = s;
    video.srcObject = stream;
    video.style.display = "block";

    startBtn.style.display = "none";
    captureBtn.style.display = "inline-block";

    messageBox.innerText = "Readyâ€¦ capture the love ğŸ“¸â¤ï¸";
  })
  .catch(() => alert("Camera permission needed ğŸ˜¢"));
}

// ğŸ“¸ capture selfie
function takeSelfie(){
  canvas.width = video.videoWidth;
  canvas.height = video.videoHeight;
  const ctx = canvas.getContext("2d");
  ctx.drawImage(video, 0, 0);

  const imageData = canvas.toDataURL("image/png");

  photo.src = imageData;
  photo.style.display = "block";

  video.style.display = "none";
  captureBtn.style.display = "none";
  retakeBtn.style.display = "inline-block";

  // random message
  const randomMessage =
    messages[Math.floor(Math.random() * messages.length)];
  messageBox.innerText = randomMessage;

  // auto download
  const a = document.createElement("a");
  a.href = imageData;
  a.download = "love_selfie.png";
  a.click();

  // stop camera
  if(stream){
    stream.getTracks().forEach(t => t.stop());
  }
}

// ğŸ”„ retake
function retakeSelfie(){
  photo.style.display = "none";
  retakeBtn.style.display = "none";
  startBtn.style.display = "inline-block";
  messageBox.innerText = "Take another cute selfie ğŸ˜˜";
}
</script>

</body>
</html>
